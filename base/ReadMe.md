一.从现状看问题

Controller 主要的工作有以下几项

接收请求并解析参数
1)调用 Service 执行具体的业务代码（可能包含参数校验）
1)捕获业务逻辑异常做出反馈
1)业务逻辑执行成功做出响应



二.如果真的按照上面所列的工作项来开发 Controller 代码会有几个问题

1)参数校验过多地耦合了业务代码，违背单一职责原则
2)可能在多个业务中都抛出同一个异常，导致代码重复
3)各种异常反馈和成功响应格式不统一，接口对接不友好

三.改造 Controller 层逻辑

1)统一返回结构
    统一返回值类型无论项目前后端是否分离都是非常必要的，
        方便对接接口的开发人员更加清晰地知道这个接口的调用是否成功（不能仅仅简单地看返回值是否为 null 就判断成功与否，
        因为有些接口的设计就是如此），使用一个状态码、状态信息就能清楚地了解接口调用情况
(统一返回结构后，在 Controller 中就可以使用了，但是每一个 Controller 都写这么一段最终封装的逻辑，这些都是很重复的工作，所以还要继续想办法进一步处理统一返回结构)

2)统一包装处理
3)参数校验
    java API 的规范 JSR303 定义了校验的标准 validation-api ，
        其中一个比较出名的实现是 hibernate validation ，spring validation 是对其的二次封装，
        常用于 SpringMVC 的参数自动校验，参数校验的代码就不需要再与业务逻辑代码进行耦合了。
    自定义校验规则
        有些时候 JSR303 标准中提供的校验规则不满足复杂的业务需求，也可以自定义校验规则
        自动校验参数真的是一项非常必要、非常有意义的工作。JSR303 提供了丰富的参数校验规则，
        再加上复杂业务的自定义校验规则，完全把参数校验和业务逻辑解耦开，代码更加简洁，符合单一职责原则。